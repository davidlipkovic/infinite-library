(()=>{"use strict";var e,o={673:(e,o,i)=>{var n,t,a,r=i(248),s=i.n(r),d=function(e,o){s().loadAnimation({container:document.getElementById(e),autoplay:!0,renderer:"svg",loop:!0,animationData:o}).goToAndPlay(0,!0)},l=window.innerHeight,c=(window.innerHeight,window.innerHeight,function(e){return e.preventDefault(),e.stopPropagation(),!1}),p=function e(o,i){var n=i.querySelector(".subtitlesWrapper");o.readyState>1?(o.play(),o.onplay=function(){i.addEventListener("wheel",c),n.classList.remove("transitionHide"),n.classList.add("transitionShow")},o.onended=function(){i.removeEventListener("wheel",c),n.classList.add("transitionHide")}):setTimeout((function(){e(o,i)}),10)},m=function e(o,i,n){var t=n.querySelector(".subtitlesWrapper");o.readyState>1?(o.play(),o.onplay=function(){i.addEventListener("wheel",c)},o.onended=function(){i.removeEventListener("wheel",c),t.classList.add("transitionHide")}):setTimeout((function(){e(o,i,n)}),10)},v=function e(o,i){o.readyState>1?(o.play(),o.onplay=function(){i.addEventListener("wheel",c)},o.onended=function(){i.removeEventListener("wheel",c),o.remove()}):setTimeout((function(){e(o,i)}),10)},g=function(e){new IntersectionObserver((function(o){o.forEach((function(o){o.isIntersecting?(e.classList.remove("zIndex1"),e.classList.add("zIndex2")):(e.classList.remove("zIndex2"),e.classList.add("zIndex1"))}))})).observe(e)},f=function(e,o){new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(o.classList.remove("transitionHide"),o.classList.add("transitionShow")):(o.classList.remove("transitionShow"),o.classList.add("transitionHide"))}))}),{threshold:.1}).observe(e)},u=i(553),h=i.n(u),y=0,w=window.innerHeight,L=(window.innerHeight,2*window.innerHeight),b=[{pageId:"introWrapper",offset:0,pageVideoOffset:0,pagePath:"intro/",videoFileNameDesktop:"bgVideo_intro_new",videoFileNamePhone:"bgVideo_intro_new"},{pageId:"mainCavernWrapper",pageLogo:void 0,pageVideo:void 0,pageVideoFixed:void 0,pageType:"mainCavern",offset:0,pageVideoOffset:0,height:19,pagePath:"MainCavern/",videoFileNameDesktop:"foyer1_20",videoFileNamePhone:"foyer1_20_Phone",voiceoverFileName:"mainCavern"},{pageId:"moonpoolsWrapper",pageVideo:void 0,pageVideoFixed:void 0,pageType:"moonpoolsWrapper",offset:0,pageVideoOffset:0,height:169,pagePath:"moonPools/",videoFileNameDesktop:"moonPoolsLong",videoFileNamePhone:"moonPoolsLongPhone",moonpoolWrapperID:"moonpoolWrapper",voiceoverFileName:"moonPoolVO_"},{pageId:"libraryOfShadowsWrapper",pageLogo:void 0,pageVideo:void 0,pageVideoFixed:void 0,pageType:"library",offset:0,pageVideoOffset:0,height:20,pagePath:"microLibraries/libraryOfShadows/",videoFileNameDesktop:"shadowsPrologue20",videoFileNamePhone:"shadowsPrologue20Phone",voiceoverFileName:"libraryOfShadows"},{pageId:"libraryOfElementsWrapper",pageLogo:void 0,pageVideo:void 0,pageVideoFixed:void 0,pageType:"library",offset:0,pageVideoOffset:0,height:19,pagePath:"microLibraries/libraryOfElements/",videoFileNameDesktop:"elementsEpilogue20",videoFileNamePhone:"elementsEpilogue20Phone",voiceoverFileName:"libraryOfElements"},{pageId:"libraryOfNavigationWrapper",pageLogo:void 0,pageVideo:void 0,pageVideoFixed:void 0,pageType:"library",offset:0,pageVideoOffset:0,height:19,pagePath:"microLibraries/libraryOfNavigation/",videoFileNameDesktop:"navigationPrologue20",videoFileNamePhone:"navigationPrologue20Phone",voiceoverFileName:"libraryOfNavigation"},{pageId:"pageFooter",mainEl:void 0,pageType:"footer",pagePath:"microLibraries/end/",voiceoverFileName:"endVO"}],x=function(){var e,o=1,i=0,r=!1,s=document.getElementById("moonpoolsMarksWrapper").querySelectorAll(".moonpoolMark"),d=document.getElementById("moonpoolContentWrapper").querySelectorAll(".moonpoolWrapper"),g=function e(i,r,s){n.readyState>=2?(setTimeout((function(){a.removeEventListener("wheel",c),setTimeout((function(){a.classList.remove("zIndex20000")}),500),a.classList.remove("transitionShow"),a.classList.add("zIndex0"),a.classList.add("transitionHide")}),500),s&&0!==o&&2!==o&&p(t,b[o].pageVideo)):setTimeout((function(){e(i,r,s)}),10)};b.forEach((function(s,d){e=6!==d?{rootMargin:"".concat(L,"px 0px ").concat(L,"px 0px"),threshold:0}:{rootMargin:"0px 0px 0px 0px",threshold:1};var l=new IntersectionObserver((function(l){l.forEach((function(e){e.isIntersecting?(o=d,i=s.pageVideoOffset,a.addEventListener("wheel",c),window.innerWidth>700?n.src="https://infinite-library.com/assets/experienceMedia/".concat(s.videoFileNameDesktop,".webm"):6!==d&&(n.src="https://infinite-library.com/assets/experienceMedia/".concat(s.videoFileNamePhone,".webm")),0===d?(n.autoplay=!0,n.loop=!0,r=!1):6!==d?(n.autoplay=!1,n.loop=!1,r=!0,s.pageVideoFixed.classList.remove("transitionHide"),s.pageVideoFixed.classList.add("transitionShow")):r=!1,0!==d&&2!==d&&(t.src="https://infinite-library.com/assets/experienceMedia/".concat(s.voiceoverFileName,".mp3")),6!==d&&(a.classList.remove("transitionHide"),a.classList.remove("zIndex0"),a.classList.add("transitionShow"),a.classList.add("zIndex20000")),0===d?g(s,p):6!==d&&g(s,p,!0),6===d&&v(t,s.mainEl)):0!==d&&6!==d&&(s.pageVideoFixed.classList.remove("transitionShow"),s.pageVideoFixed.classList.add("transitionHide"))}),e)})),p=s.pageVideo;p||(p=document.getElementById("".concat(s.pageId))),l.observe(p)})),s.forEach((function(e,o){new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?(d[o].classList.remove("transitionHide"),d[o].classList.add("transitionShow"),t.src="https://infinite-library.com/assets/experienceMedia/".concat(b[2].voiceoverFileName).concat(o+1,".mp3"),m(t,b[2].pageVideo,d[o])):(d[o].classList.remove("transitionShow"),d[o].classList.add("transitionHide"))}))})).observe(e)})),window.addEventListener("scroll",(function(){r&&function(e,o){var i=(window.pageYOffset-o)/l;window.requestAnimationFrame((function(){e.readyState>1&&(e.currentTime=i)}))}(n,i)}))};window.addEventListener("load",(function(){document.querySelector("body"),setTimeout((function(){document.documentElement.scrollTop=0}),1);var e=document.getElementById("headPhones");e.addEventListener("click",(function(){document.documentElement.classList.remove("beforeLoaded"),document.documentElement.classList.remove("beforeClicked"),n.classList.remove("transitionHide"),n.classList.add("transitionShow"),e.remove()})),n=document.getElementById("videoBG"),setTimeout((function(){n.classList.add("transition1s")}),1),d("preloadLogoAnimContainer",h()),d("mainLogoAnimContainer",h()),t=document.getElementById("voiceover"),a=document.getElementById("preloadLogoAnim"),document.getElementById("scrollDownIcon").addEventListener("click",(function(){window.scrollTo({top:window.innerHeight/10*11,left:0,behavior:"smooth"})})),b.forEach((function(e,o){if(0===o){var i=document.querySelector("header");g(i)}else 6!==o&&function(e){var o,i,n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=document.querySelector("#".concat(e.pageId)),r=e.pageType;"moonpoolsWrapper"!==r?(o=a.querySelector(".pageLogo"),i=o.querySelector(".pageLogoFixed"),n=8*window.innerHeight):n=0;var s=a.querySelector(".pageVideo"),d=a.querySelector(".pageVideoFixed"),l=(document.querySelector("#videoBG"),e.height*w),c=n+l;if(y+=c,a.style.height=c+"px",s.style.marginTop=n+"px",s.style.height=l+"px","mainCavern"===r&&(y+=window.innerHeight),"moonpoolsWrapper"===r){var p=a.querySelectorAll(".moonpoolMark"),m=0;p.forEach((function(e){e.style.marginTop=m+"px",e.style.height=l/8+"px",m+=l/8}))}e.pageLogo=o,e.pageVideo=s,e.pageVideoFixed=d,e.offset=t,e.pageVideoOffset=t+n,g(a),"moonpoolsWrapper"!==r&&(setTimeout((function(){i.classList.add("transition")}),1),f(o,i))}(e,y)}));var o=document.querySelector("#pageFooter");b[6].mainEl=o,g(o),x()}))}},i={};function n(e){var t=i[e];if(void 0!==t)return t.exports;var a=i[e]={exports:{}};return o[e](a,a.exports,n),a.exports}n.m=o,e=[],n.O=(o,i,t,a)=>{if(!i){var r=1/0;for(c=0;c<e.length;c++){for(var[i,t,a]=e[c],s=!0,d=0;d<i.length;d++)(!1&a||r>=a)&&Object.keys(n.O).every((e=>n.O[e](i[d])))?i.splice(d--,1):(s=!1,a<r&&(r=a));if(s){e.splice(c--,1);var l=t();void 0!==l&&(o=l)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[i,t,a]},n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var i in o)n.o(o,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:o[i]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={417:0};n.O.j=o=>0===e[o];var o=(o,i)=>{var t,a,[r,s,d]=i,l=0;if(r.some((o=>0!==e[o]))){for(t in s)n.o(s,t)&&(n.m[t]=s[t]);if(d)var c=d(n)}for(o&&o(i);l<r.length;l++)a=r[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},i=self.webpackChunkinfinite_library=self.webpackChunkinfinite_library||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))})();var t=n.O(void 0,[288,553],(()=>n(673)));t=n.O(t)})();